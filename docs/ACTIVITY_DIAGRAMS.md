# SƠ ĐỒ HOẠT ĐỘNG (ACTIVITY DIAGRAMS)

## HỆ THỐNG QUẢN LÝ DỰ ÁN TASKFLOW

---

## CHÚ THÍCH KÝ HIỆU

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                          CHÚ THÍCH KÝ HIỆU ACTIVITY DIAGRAM                         │
└─────────────────────────────────────────────────────────────────────────────────────┘

    ●           Initial Node (Điểm bắt đầu)

    ◉           Final Node (Điểm kết thúc)

┌─────────────────────┐
│                     │
│      Activity       │     Activity (Hoạt động)
│                     │
└─────────────────────┘

    ◇           Decision Node (Điểm quyết định/rẽ nhánh)

    ═           Fork/Join Node (Phân nhánh/Hợp nhất song song)

    │
    ▼           Control Flow (Luồng điều khiển)

┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─┐
│                     │     Swimlane (Làn bơi - phân chia theo actor)
│      Actor          │
│                     │
└ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─┘

    [condition]       Guard Condition (Điều kiện rẽ nhánh)
```

---

## 1. SƠ ĐỒ HOẠT ĐỘNG: ĐĂNG NHẬP HỆ THỐNG

```
┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                                             │
│                                    ACTIVITY DIAGRAM: ĐĂNG NHẬP                                              │
│                                                                                                             │
│  ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐  ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐  │
│  │           GUEST                    │  │                         SYSTEM                              │  │
│  │                                    │  │                                                              │  │
│  │              ●                     │  │                                                              │  │
│  │              │                     │  │                                                              │  │
│  │              ▼                     │  │                                                              │  │
│  │  ┌─────────────────────┐           │  │                                                              │  │
│  │  │ Truy cập trang      │           │  │                                                              │  │
│  │  │ đăng nhập           │───────────┼──┼──────────────────────────────┐                               │  │
│  │  └─────────────────────┘           │  │                              ▼                               │  │
│  │                                    │  │                  ┌─────────────────────┐                     │  │
│  │                                    │  │                  │ Hiển thị form       │                     │  │
│  │              ┌─────────────────────┼──┼──────────────────│ đăng nhập           │                     │  │
│  │              │                     │  │                  └─────────────────────┘                     │  │
│  │              ▼                     │  │                                                              │  │
│  │  ┌─────────────────────┐           │  │                                                              │  │
│  │  │ Nhập email và       │           │  │                                                              │  │
│  │  │ mật khẩu            │           │  │                                                              │  │
│  │  └──────────┬──────────┘           │  │                                                              │  │
│  │             │                      │  │                                                              │  │
│  │             ▼                      │  │                                                              │  │
│  │  ┌─────────────────────┐           │  │                                                              │  │
│  │  │ Nhấn nút            │───────────┼──┼──────────────────────────────┐                               │  │
│  │  │ "Đăng nhập"         │           │  │                              ▼                               │  │
│  │  └─────────────────────┘           │  │                  ┌─────────────────────┐                     │  │
│  │                                    │  │                  │ Validate dữ liệu    │                     │  │
│  │                                    │  │                  │ đầu vào             │                     │  │
│  │                                    │  │                  └──────────┬──────────┘                     │  │
│  │                                    │  │                             │                                │  │
│  │                                    │  │                             ◇                                │  │
│  │                                    │  │                            ╱ ╲                               │  │
│  │                                    │  │                           ╱   ╲                              │  │
│  │                                    │  │              [Invalid]   ╱     ╲   [Valid]                   │  │
│  │                                    │  │                         ╱       ╲                            │  │
│  │                                    │  │                        ╱         ╲                           │  │
│  │              ┌─────────────────────┼──┼───────────────────────╱           ╲                          │  │
│  │              │                     │  │                      ▼             ▼                         │  │
│  │              ▼                     │  │          ┌─────────────────┐ ┌─────────────────────┐         │  │
│  │  ┌─────────────────────┐           │  │          │ Hiển thị lỗi   │ │ Tìm user theo       │         │  │
│  │  │ Xem thông báo lỗi   │           │  │          │ validation     │ │ email               │         │  │
│  │  └──────────┬──────────┘           │  │          └─────────────────┘ └──────────┬──────────┘         │  │
│  │             │                      │  │                                         │                    │  │
│  │             │                      │  │                                         ◇                    │  │
│  │             │                      │  │                                        ╱ ╲                   │  │
│  │             │                      │  │                       [Not found]     ╱   ╲  [Found]         │  │
│  │             │                      │  │                                      ╱     ╲                 │  │
│  │             │                      │  │                      ┌──────────────╱       ╲                │  │
│  │             │                      │  │                      ▼                       ▼               │  │
│  │             │                      │  │          ┌─────────────────┐     ┌─────────────────────┐     │  │
│  │             │◄─────────────────────┼──┼──────────│ Hiển thị lỗi   │     │ Verify password     │     │  │
│  │             │                      │  │          │ "Email không   │     │ (bcrypt)            │     │  │
│  │             │                      │  │          │  tồn tại"      │     └──────────┬──────────┘     │  │
│  │             │                      │  │          └─────────────────┘                │                │  │
│  │             │                      │  │                                             ◇                │  │
│  │             │                      │  │                                            ╱ ╲               │  │
│  │             │                      │  │                            [Wrong]        ╱   ╲  [Correct]   │  │
│  │             │                      │  │                                          ╱     ╲             │  │
│  │             │                      │  │                          ┌──────────────╱       ╲            │  │
│  │             │                      │  │                          ▼                       ▼           │  │
│  │             │                      │  │              ┌─────────────────┐     ┌─────────────────────┐ │  │
│  │             │◄─────────────────────┼──┼──────────────│ Hiển thị lỗi   │     │ Kiểm tra tài khoản  │ │  │
│  │             │                      │  │              │ "Mật khẩu sai" │     │ bị khóa?            │ │  │
│  │             │                      │  │              └─────────────────┘     └──────────┬──────────┘ │  │
│  │             │                      │  │                                                 │            │  │
│  │             │                      │  │                                                 ◇            │  │
│  │             │                      │  │                                                ╱ ╲           │  │
│  │             │                      │  │                                 [Locked]      ╱   ╲ [Active] │  │
│  │             │                      │  │                                              ╱     ╲         │  │
│  │             │                      │  │                              ┌──────────────╱       ╲        │  │
│  │             │                      │  │                              ▼                       ▼       │  │
│  │             │                      │  │                  ┌─────────────────┐     ┌─────────────────┐ │  │
│  │             │◄─────────────────────┼──┼──────────────────│ Hiển thị lỗi   │     │ Tạo session &   │ │  │
│  │             │                      │  │                  │ "TK bị khóa"   │     │ regenerate ID   │ │  │
│  │             │                      │  │                  └─────────────────┘     └──────────┬──────┘ │  │
│  │             │                      │  │                                                     │        │  │
│  │             │                      │  │                                                     ▼        │  │
│  │             │                      │  │                                         ┌─────────────────┐  │  │
│  │             │                      │  │                                         │ Cập nhật        │  │  │
│  │             │                      │  │                                         │ last_login_at   │  │  │
│  │             │                      │  │                                         └──────────┬──────┘  │  │
│  │             │                      │  │                                                    │         │  │
│  │             │                      │  │                                                    ◇         │  │
│  │             │                      │  │                                                   ╱ ╲        │  │
│  │             │                      │  │                                   [Remember me] ╱   ╲ [No]   │  │
│  │             │                      │  │                                                ╱     ╲       │  │
│  │             │                      │  │                                               ▼       ▼      │  │
│  │             │                      │  │                               ┌─────────────────┐     │      │  │
│  │             │                      │  │                               │ Tạo remember    │     │      │  │
│  │             │                      │  │                               │ token & cookie  │     │      │  │
│  │             │                      │  │                               └────────┬────────┘     │      │  │
│  │             │                      │  │                                        │              │      │  │
│  │             │                      │  │                                        └──────┬───────┘      │  │
│  │             │                      │  │                                               │              │  │
│  │             │                      │  │                                               ▼              │  │
│  │             │                      │  │                                   ┌─────────────────────┐    │  │
│  │             │◄─────────────────────┼──┼───────────────────────────────────│ Redirect đến       │    │  │
│  │             │                      │  │                                   │ Dashboard          │    │  │
│  │             ▼                      │  │                                   └─────────────────────┘    │  │
│  │  ┌─────────────────────┐           │  │                                                              │  │
│  │  │ Xem Dashboard       │           │  │                                                              │  │
│  │  └──────────┬──────────┘           │  │                                                              │  │
│  │             │                      │  │                                                              │  │
│  │             ▼                      │  │                                                              │  │
│  │             ◉                      │  │                                                              │  │
│  │                                    │  │                                                              │  │
│  └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘  └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘  │
│                                                                                                             │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

